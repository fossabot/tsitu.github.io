
<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script>if (!window.jQuery) { document.write('<script src="jquery.js"><\/script>'); }</script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="icon" href="img/favicon.ico" type="image/x-icon">

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-61581935-1', 'auto');
    ga('send', 'pageview');
  </script>

  <style>
    #speed {
      display: none;
    }
    #pause {
      cursor: pointer;
    }
  </style>
</head>

<body style="margin:0">
  <div id="speed">
    <div>
      <h4>speed</h4>
      <span id="pause">[pause]</span>
    </div>
    <span class="l">faster</span>
    <input type="range" min="0" max="20" value="16" id="slider" class="l">
    <span class="l">slower</span>
  </div>
  <script>
  (function() {
    var nl, openCSS, openAnim, animCount, markup, styles, time, writeStyleChar, writeStyles, paused;

    text = "\n/* \n * Thanks to\n * pen#PwLXXP and Jake Albaugh for the demo, \n * uâˆ•dechat for the script, \n * and Kris Triplett for the brilliant CSS art.\n * Let's begin! \n */\n/*\n * Speed slider:\n */\n#speed {\n  display: block; position: fixed;\n  z-index: 100; padding: 5px;\n  top: 15px; left: 26%;\n}\n#speed h4 {\n  display: inline-block; margin: 5px;\n}\n#speed .l {\n  float: left; margin: 1px 5px;\n}\n.pre { \n  overflow: auto;\n  position: fixed; width: 35%;\n  padding: 24px 12px;\n  top: 90px; height: 25%; left: 26%;\n}\n.pre, #speed {\n  background-color: #1C2B1C; color: #a6c3d4;\n  transition: left 500ms;\n  border: 1px solid rgba(0,0,0,0.2);\n  box-sizing: border-box;\n  border-radius: 3px;\n  box-shadow: 0px 4px 0px 2px rgba(0,0,0,0.1);\n}\n/*\n * Move these over...\n */\n.pre, #speed {\n  left: 60% \n}\n/*\n * Now for some HTML. \n */\n#html-text {\n  transition: top 300ms;\n  top: calc(25% + 115px);\n}\n/*\n * Undo some defaults\n */\n\n.bold {\n  font-weight: bold;\n}\n.container {\n  font-family: verdana, arial, helvetica, sans-serif;\n}\n.container a {\n  text-decoration: none; color: #369;\n}\n.container p {\n  margin: 0;\n}\n<!-- What should we create? -->\n\n<!-- Yes... A camera... -->\n\n<!--HTML first!-->\n\n<div id=\"camera\" class=\"entry\"><div></div></div>\n\n<!-- Here comes the CSS! -->\n\n#camera {\n  background: #ffa500;\n  height: 600px;\n  width: 631px;\n  margin: 50px auto;\n  position: relative;\n  right: 20%;\n}\n#camera div {\n  width: 300px;\n  height: 130px;\n  margin-left: -150px;\n  margin-top: -65px;\n  z-index: 1;\n  background: linear-gradient(to right, #111 0%, #444 15%, #444 85%, #111 100%);\n  border-top: 15px solid #ccc;\n  border-bottom: 12px solid #ccc;\n  border-image: linear-gradient(to right, #444, #ccc, #ccc, #ccc, #ccc, #444) 1% stretch;\n  box-shadow: 0 3px 4px -2px rgba(0,0,0,0.6), 0 10px 7px -2px rgba(0,0,0,0.4);\n}\n#camera div:before {\n  width: 33px;\n  height: 18px;\n  margin-left: 30px;\n  top: -30px;\n  left: 50%;\n  z-index: 2;\n  background: #333;\n  box-shadow: 0 0 0 2px #eee, -1px -1px 1px 3px #333, -95px 6px 0 0 #ccc, 30px 3px 0 12px #ccc, -18px 37px 0 46px #ccc, -96px -6px 0 -6px #555, -96px -9px 0 -6px #ddd, -155px -10px 1px 3px #888, -165px -10px 1px 3px #999, -170px -10px 1px 3px #666, -162px -8px 0 5px #555, 85px -4px 1px -3px #ccc, 79px -4px 1px -3px #888, 82px 1px 0 -4px #555;\n}\n#camera div:after {\n  width: 100px;\n  height: 100px;\n  margin-left: -20px;\n  top: 15px;\n  left: 50%;\n  z-index: 3;\n  background: linear-gradient(45deg, #ccc 40%, #ddd 100%);\n  border-radius: 50%;\n  box-shadow: 0 3px 2px #999, 1px -2px 0 white, -1px -3px 2px #555, 0 0 0 15px #c2c2c2, 0 -2px 0 15px white, -2px -5px 1px 17px #666, 0 10px 10px 15px rgba(0,0,0,0.3), -90px -51px 1px -43px #aaa, -90px -50px 1px -40px #888, -90px -51px 0 -34px #ccc, -90px -50px 0 -30px #aaa, -90px -48px 1px -28px rgba(0,0,0,0.2), -124px -73px 1px -48px #eee, -125px -72px 0 -46px #666, -85px -73px 1px -48px #eee, -86px -72px 0 -46px #666, 42px -82px 1px -48px #eee, 41px -81px 0 -46px #777, 67px -73px 1px -48px #eee, 66px -72px 0 -46px #666, -46px -86px 1px -45px #444, -44px -87px 0 -38px #333, -44px -86px 0 -37px #ccc, -44px -85px 0 -34px #999, 14px -89px 1px -48px #eee, 12px -84px 1px -48px #999, 23px -85px 0 -47px #444, 23px -87px 0 -46px #888;\n}\n.entry {\n  text-align: center;\n  min-height: 400px;\n  position: relative;\n}\n.entry div {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n}\n.entry div:before,\n.entry div:after {\n  display: block;\n  content: '';\n  position: absolute;\n}\n@media (max-width: 400px) {\n  .entry div {\n    -webkit-transform: scale(0.8);\n    transform: scale(0.8);\n  }\n}\n.cf:before,\n.cf:after {\n  content: " ";\n  display: table;\n}\n.cf:after {\n  clear: both;\n}\n@media all and (min-width: 960px) {\n  .entry {\n    float: left;\n    width: 50%;\n  }\n  .entry.wide {\n    width: 100%;\n  }\n}\n<!--\n    Thanks again to Jake Albaugh, u/dechat, and Kris Triplett:\n    http://codepen.io/jakealbaugh/full/PwLXXP/\n    http://kristriplett.com/tinker/vader.html \n-->";

    nl = true;
    openCSS = false;
    openAmin = false;
    animCount = 0;

    writeStyleChar = function(which) {
      markup = $('#html-text').html();
      styles = $('#style-text').html();

      switch (which) {
        case '@':
          if (nl) {
            //css
            styles += '\n\n' + which;
            openCSS = true;
            openAnim = true;
          } else if (!openCSS) {
            //html
            markup += which;
          }
        break;

        case '/':
          if (nl) {
            //css
            styles += '\n\n' + which;
            openCSS = true;
          } else if (openCSS) {
            styles += which;
            openCSS = false;
          } else if (!openCSS) {
            //html
            markup += which;
          }
        break;

        case '.':
          if (nl) {
            styles += '\n\n' + which;
            openCSS = true;
          } else if (openCSS) {
            styles += which;
          } else if (!openCSS) {
            //html
            markup += which;
          }
        break;

        case '#':
          if (nl) {
            styles += '\n\n' + which;
            openCSS = true;
          } else if (openCSS) {
            styles += which;
          } else if (!openCSS) {
            //html
            markup += which;
          }
        break;

        case '}':
          if (openAnim) {
            styles += which;
            if (animCount > 1) {
              animCount = 0;
              openAnim = false;
              openCSS = true;
            } else {
              animCount += 1;
              openAnim = true;
              openCSS = true;
            }
          } else if (openCSS) {
            styles += which;
            openCSS = false;
          } else if (!openCSS) {
            //html
            markup += which;
          }
        break;

        default:
          if (openCSS) {
            styles += which;
          } else if (!openCSS) {
            //html
            markup += which;
          }
      }

      nl = ((which === '\n') ? true : false);

      $('#style-text').html(styles);
      $('#html-text').html(markup);
      myMarkup = $("<div />").html(markup).text();
      $('.container').html(myMarkup);
      $('#style-tag').html(styles);
    };

    writeStyles = function(message) {
      if (!paused) {
        var pre;
        if (index < message.length) {
          pre = document.getElementById('style-text');
          pre.scrollTop = pre.scrollHeight;
          pres = document.getElementById('html-text');
          pres.scrollTop = pres.scrollHeight;
          writeStyleChar(message[index++]);
          setTimeout((function() {
            writeStyles(message, time);
          }), time);
        }
      }
    };

    $('body').append("  <style id=\"style-tag\"></style><div class=\"container\"></div><pre class=\"pre\" id=\"html-text\"></pre><pre class=\"pre\" id=\"style-text\"></pre>");

    var time = 16;
    index = 0;

    $('#slider').on('input change', function() {
      time = $(this).val();
    })
    $('#pause').on('click', function() {
      if (paused) {
        paused = false;
        $(this).text('[pause]');
        writeStyles(text);
      } else {
        paused = true;
        $(this).text('[resume]');
      }
    })

    writeStyles(text);

  }).call(this);
  </script>
</body>
</html>